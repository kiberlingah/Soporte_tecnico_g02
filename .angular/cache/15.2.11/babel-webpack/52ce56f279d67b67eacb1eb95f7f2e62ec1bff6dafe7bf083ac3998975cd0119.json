{"ast":null,"code":"import { jwtDecode } from 'jwt-decode';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/cliente.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 32);\n    i0.…µ…µtext(1, \" Ingresa un correo v\\u00E1lido. \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction LoginComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 32);\n    i0.…µ…µtext(1, \" La contrase\\u00F1a debe tener al menos 6 caracteres. \");\n    i0.…µ…µelementEnd();\n  }\n}\nfunction LoginComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 33);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(ctx_r5.mensajeExito);\n  }\n}\nfunction LoginComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"div\", 34);\n    i0.…µ…µtext(1);\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.…µ…µnextContext();\n    i0.…µ…µadvance(1);\n    i0.…µ…µtextInterpolate(ctx_r6.mensajeError);\n  }\n}\nexport class LoginComponent {\n  constructor(clienteService, router) {\n    this.clienteService = clienteService;\n    this.router = router;\n    // Campos enlazados con ngModel\n    this.correo = '';\n    this.contrasena = '';\n    // Mensajes de feedback\n    this.mensajeExito = '';\n    this.mensajeError = '';\n  }\n  // iniciarSesion(formValue: any): void {\n  //   const credentials = {\n  //     correo: this.correo,\n  //     contrasena: this.contrasena // ‚ö†Ô∏è el backend espera \"password\"\n  //   };\n  //   this.clienteService.loginCliente(credentials).subscribe({\n  //     next: (res: any) => {\n  //       if (res.token) {\n  //         //localStorage.setItem('token', res.token);\n  //         //localStorage.setItem('id_cliente', res.id_cliente);\n  //         this.mensajeExito = '‚úÖ Login exitoso';\n  //         this.mensajeError = '';\n  //         // Redirige al perfil o dashboard\n  //         this.router.navigate(['/cliente/dashboard']);\n  //       }\n  //     },\n  //     error: (err: any) => {\n  //       console.error('Error en login:', err);\n  //       this.mensajeError = '‚ùå Credenciales inv√°lidas';\n  //       this.mensajeExito = '';\n  //     }\n  //   });\n  // }\n  iniciarSesion(formValue) {\n    const credentials = {\n      correo: this.correo,\n      contrasena: this.contrasena\n    };\n    this.clienteService.loginCliente(credentials).subscribe({\n      next: res => {\n        if (res.token) {\n          // üîπ 1. Guardar token (recomendado)\n          localStorage.setItem('token', res.token);\n          // üîπ 2. Decodificar token\n          const payload = jwtDecode(res.token);\n          //console.log('Payload decodificado:', payload);\n          // Ejemplos de acceso a campos\n          localStorage.setItem('id_cliente', payload.id_cliente);\n          //console.log('id_cliente', payload.id_cliente);        \n          // localStorage.setItem('rol', payload.rol);\n          // Mensajes\n          this.mensajeExito = '‚úÖ Login exitoso';\n          this.mensajeError = '';\n          // üîπ 3. Redirigir\n          this.router.navigate(['/cliente/dashboard']);\n        }\n      },\n      error: err => {\n        console.error('Error en login:', err);\n        this.mensajeError = '‚ùå Credenciales inv√°lidas';\n        this.mensajeExito = '';\n      }\n    });\n  }\n  volverAlInicio() {\n    this.router.navigate(['/']); // redirige al inicio\n  }\n\n  redirigirRegistro() {\n    this.router.navigate(['/register']); // redirige al registro\n  }\n\n  static {\n    this.…µfac = function LoginComponent_Factory(t) {\n      return new (t || LoginComponent)(i0.…µ…µdirectiveInject(i1.ClienteService), i0.…µ…µdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: LoginComponent,\n      selectors: [[\"app-login\"]],\n      decls: 41,\n      vars: 7,\n      consts: [[\"href\", \"https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rajdhani:wght@500&family=Poppins:wght@500&display=swap\", \"rel\", \"stylesheet\"], [\"autoplay\", \"\", \"muted\", \"\", \"loop\", \"\", \"playsinline\", \"\", 1, \"video-fondo\"], [\"src\", \"assets/video-fondo.mp4\", \"type\", \"video/mp4\"], [1, \"container-fluid\", \"min-vh-100\", \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"row\", \"login-wrapper\", \"rounded-4\", \"overflow-hidden\", \"shadow-lg\", 2, \"max-width\", \"950px\", \"width\", \"100%\"], [1, \"col-md-6\", \"d-none\", \"d-md-flex\", \"align-items-center\", \"justify-content-center\", \"bg-gradient\", \"rounded-start-4\"], [\"src\", \"assets/login-visual.png\", \"alt\", \"Visual institucional\", 1, \"img-fluid\", \"rounded-4\", \"shadow\"], [1, \"col-md-6\", \"bg-white\", \"p-5\", \"d-flex\", \"flex-column\", \"justify-content-center\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"text-end\", \"mb-3\"], [\"type\", \"button\", \"aria-label\", \"Cerrar\", 1, \"btn\", \"btn-cerrar\", 3, \"click\"], [1, \"text-center\", \"mb-4\"], [\"src\", \"assets/icono-iniciar-sesion.png\", \"alt\", \"Icono de acceso\", \"width\", \"120\", 1, \"mb-3\", \"mx-auto\", \"d-block\"], [1, \"fw-bold\", 2, \"font-family\", \"'Orbitron', sans-serif\", \"color\", \"#5ad7f3\"], [1, \"mb-3\"], [\"for\", \"correo\", 1, \"form-label\", \"fw-semibold\", \"text-info\", 2, \"font-family\", \"'Rajdhani', sans-serif\"], [1, \"bi\", \"bi-envelope-fill\", \"me-2\"], [\"name\", \"correo\", \"type\", \"email\", \"id\", \"correo\", \"placeholder\", \"ejemplo@correo.com\", \"required\", \"\", \"email\", \"\", 1, \"form-control\", \"campo-input\", 3, \"ngModel\", \"ngModelChange\"], [\"correoCtrl\", \"ngModel\"], [\"class\", \"text-danger small\", 4, \"ngIf\"], [\"for\", \"contrasena\", 1, \"form-label\", \"fw-semibold\", \"text-info\", 2, \"font-family\", \"'Rajdhani', sans-serif\"], [1, \"bi\", \"bi-lock-fill\", \"me-2\"], [\"name\", \"contrasena\", \"type\", \"password\", \"id\", \"contrasena\", \"placeholder\", \"********\", \"required\", \"\", \"minlength\", \"6\", 1, \"form-control\", \"campo-input\", 3, \"ngModel\", \"ngModelChange\"], [\"passCtrl\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"w-100\", \"btn-login\", \"mt-3\", 3, \"disabled\"], [1, \"bi\", \"bi-box-arrow-in-right\", \"me-2\"], [\"class\", \"alert alert-success mt-3\", 4, \"ngIf\"], [\"class\", \"alert alert-danger mt-3\", 4, \"ngIf\"], [1, \"text-center\", \"mt-3\"], [1, \"link-secundario\", \"d-block\", \"mb-2\", 3, \"click\"], [1, \"link-secundario\", 3, \"click\"], [1, \"text-danger\", \"small\"], [1, \"alert\", \"alert-success\", \"mt-3\"], [1, \"alert\", \"alert-danger\", \"mt-3\"]],\n      template: function LoginComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r7 = i0.…µ…µgetCurrentView();\n          i0.…µ…µelement(0, \"link\", 0);\n          i0.…µ…µelementStart(1, \"video\", 1);\n          i0.…µ…µelement(2, \"source\", 2);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5);\n          i0.…µ…µelement(6, \"img\", 6);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(7, \"div\", 7)(8, \"form\", 8, 9);\n          i0.…µ…µlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_8_listener() {\n            i0.…µ…µrestoreView(_r7);\n            const _r0 = i0.…µ…µreference(9);\n            return i0.…µ…µresetView(ctx.iniciarSesion(_r0.value));\n          });\n          i0.…µ…µelementStart(10, \"div\", 10)(11, \"button\", 11);\n          i0.…µ…µlistener(\"click\", function LoginComponent_Template_button_click_11_listener() {\n            return ctx.volverAlInicio();\n          });\n          i0.…µ…µtext(12, \" X \");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(13, \"div\", 12);\n          i0.…µ…µelement(14, \"img\", 13);\n          i0.…µ…µelementStart(15, \"h2\", 14);\n          i0.…µ…µtext(16, \" Iniciar sesi\\u00F3n \");\n          i0.…µ…µelementEnd()();\n          i0.…µ…µelementStart(17, \"div\", 15)(18, \"label\", 16);\n          i0.…µ…µelement(19, \"i\", 17);\n          i0.…µ…µtext(20, \" Correo electr\\u00F3nico \");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(21, \"input\", 18, 19);\n          i0.…µ…µlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_21_listener($event) {\n            return ctx.correo = $event;\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µtemplate(23, LoginComponent_div_23_Template, 2, 0, \"div\", 20);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(24, \"div\", 15)(25, \"label\", 21);\n          i0.…µ…µelement(26, \"i\", 22);\n          i0.…µ…µtext(27, \" Contrase\\u00F1a \");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(28, \"input\", 23, 24);\n          i0.…µ…µlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_28_listener($event) {\n            return ctx.contrasena = $event;\n          });\n          i0.…µ…µelementEnd();\n          i0.…µ…µtemplate(30, LoginComponent_div_30_Template, 2, 0, \"div\", 20);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(31, \"button\", 25);\n          i0.…µ…µelement(32, \"i\", 26);\n          i0.…µ…µtext(33, \" Iniciar sesi\\u00F3n \");\n          i0.…µ…µelementEnd();\n          i0.…µ…µtemplate(34, LoginComponent_div_34_Template, 2, 1, \"div\", 27);\n          i0.…µ…µtemplate(35, LoginComponent_div_35_Template, 2, 1, \"div\", 28);\n          i0.…µ…µelementStart(36, \"div\", 29)(37, \"a\", 30);\n          i0.…µ…µlistener(\"click\", function LoginComponent_Template_a_click_37_listener() {\n            return ctx.redirigirRegistro();\n          });\n          i0.…µ…µtext(38, \"\\u00BFOlvidaste tu contrase\\u00F1a?\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(39, \"a\", 31);\n          i0.…µ…µlistener(\"click\", function LoginComponent_Template_a_click_39_listener() {\n            return ctx.redirigirRegistro();\n          });\n          i0.…µ…µtext(40, \"\\u00BFNo tienes cuenta? Reg\\u00EDstrate\");\n          i0.…µ…µelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          const _r0 = i0.…µ…µreference(9);\n          const _r1 = i0.…µ…µreference(22);\n          const _r3 = i0.…µ…µreference(29);\n          i0.…µ…µadvance(21);\n          i0.…µ…µproperty(\"ngModel\", ctx.correo);\n          i0.…µ…µadvance(2);\n          i0.…µ…µproperty(\"ngIf\", _r1.invalid && _r1.touched);\n          i0.…µ…µadvance(5);\n          i0.…µ…µproperty(\"ngModel\", ctx.contrasena);\n          i0.…µ…µadvance(2);\n          i0.…µ…µproperty(\"ngIf\", _r3.invalid && _r3.touched);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"disabled\", _r0.invalid);\n          i0.…µ…µadvance(3);\n          i0.…µ…µproperty(\"ngIf\", ctx.mensajeExito);\n          i0.…µ…µadvance(1);\n          i0.…µ…µproperty(\"ngIf\", ctx.mensajeError);\n        }\n      },\n      dependencies: [i3.NgIf, i4.…µNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.EmailValidator, i4.NgModel, i4.NgForm],\n      styles: [\".video-fondo[_ngcontent-%COMP%] {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n  z-index: -1;\\n  opacity: 0.3;\\n}\\n\\n.container-fluid[_ngcontent-%COMP%] {\\n  background-color: rgba(255, 16, 16, 0.116);\\n}\\n\\n.bg-gradient[_ngcontent-%COMP%] {\\n  background: linear-gradient(135deg, #5ad7f3, #8A2BE2);\\n}\\n\\n.btn-cerrar[_ngcontent-%COMP%] {\\n  background-color: #c688ff;\\n  color: rgb(255, 255, 255);\\n  border: none;\\n  font-size: 1.2rem;\\n  padding: 0.4rem 0.8rem;\\n  border-radius: 50px;\\n  font-family: \\\"Orbitron\\\", sans-serif;\\n  transition: all 0.3s ease;\\n}\\n\\n.btn-cerrar[_ngcontent-%COMP%]:hover {\\n  background-color: #5ad7f3;\\n  color: #03153a;\\n  transform: scale(1.1);\\n  box-shadow: 0 0 8px rgba(90, 215, 243, 0.6);\\n}\\n\\n.campo-input[_ngcontent-%COMP%] {\\n  border: 1px solid #5ad7f3;\\n  border-radius: 50px;\\n  padding: 0.6rem 1rem;\\n  background-color: #f5f8ff;\\n  font-family: \\\"Rajdhani\\\", sans-serif;\\n  transition: all 0.3s ease;\\n}\\n\\n.campo-input[_ngcontent-%COMP%]:focus {\\n  border-color: #8A2BE2;\\n  box-shadow: 0 0 10px rgba(138, 43, 226, 0.6);\\n  outline: none;\\n}\\n\\n.btn-login[_ngcontent-%COMP%] {\\n  background-color: #8A2BE2;\\n  color: white;\\n  font-family: \\\"Poppins\\\", sans-serif;\\n  font-weight: 600;\\n  border-radius: 50px;\\n  padding: 0.7rem;\\n  transition: all 0.3s ease;\\n}\\n\\n.btn-login[_ngcontent-%COMP%]:hover {\\n  background-color: #5ad7f3;\\n  color: #03153a;\\n  box-shadow: 0 0 12px rgba(90, 215, 243, 0.6);\\n}\\n\\n.link-secundario[_ngcontent-%COMP%] {\\n  font-family: \\\"Rajdhani\\\", sans-serif;\\n  color: #5ad7f3;\\n  text-decoration: none;\\n  transition: color 0.3s ease;\\n}\\n\\n.link-secundario[_ngcontent-%COMP%]:hover {\\n  color: #8A2BE2;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYXV0aC9sb2dpbi9sb2dpbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUNGOztBQUVBO0VBQ0UsMENBQUE7QUFDRjs7QUFFQTtFQUNFLHFEQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLG1DQUFBO0VBQ0EseUJBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0VBQ0EsY0FBQTtFQUNBLHFCQUFBO0VBQ0EsMkNBQUE7QUFDRjs7QUFHQTtFQUNFLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSxvQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUNBQUE7RUFDQSx5QkFBQTtBQUFGOztBQUdBO0VBQ0UscUJBQUE7RUFDQSw0Q0FBQTtFQUNBLGFBQUE7QUFBRjs7QUFHQTtFQUNFLHlCQUFBO0VBQ0EsWUFBQTtFQUNBLGtDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtBQUFGOztBQUdBO0VBQ0UseUJBQUE7RUFDQSxjQUFBO0VBQ0EsNENBQUE7QUFBRjs7QUFHQTtFQUNFLG1DQUFBO0VBQ0EsY0FBQTtFQUNBLHFCQUFBO0VBQ0EsMkJBQUE7QUFBRjs7QUFHQTtFQUNFLGNBQUE7QUFBRiIsInNvdXJjZXNDb250ZW50IjpbIi52aWRlby1mb25kbyB7XHJcbiAgcG9zaXRpb246IGZpeGVkO1xyXG4gIHRvcDogMDtcclxuICBsZWZ0OiAwO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICBvYmplY3QtZml0OiBjb3ZlcjtcclxuICB6LWluZGV4OiAtMTtcclxuICBvcGFjaXR5OiAwLjM7XHJcbn1cclxuXHJcbi5jb250YWluZXItZmx1aWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAxNiwgMTYsIDAuMTE2KTsgLy8gYmxhbmNvIHRyYW5zbMODwrpjaWRvXHJcbn1cclxuXHJcbi5iZy1ncmFkaWVudCB7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzVhZDdmMywgIzhBMkJFMik7XHJcbn1cclxuXHJcbi5idG4tY2VycmFyIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzY4OGZmOyAvLyB2aW9sZXRhIGluc3RpdHVjaW9uYWxcclxuICBjb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBmb250LXNpemU6IDEuMnJlbTtcclxuICBwYWRkaW5nOiAwLjRyZW0gMC44cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgZm9udC1mYW1pbHk6ICdPcmJpdHJvbicsIHNhbnMtc2VyaWY7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxufVxyXG5cclxuLmJ0bi1jZXJyYXI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM1YWQ3ZjM7IC8vIGF6dWwgZWzDg8KpY3RyaWNvXHJcbiAgY29sb3I6ICMwMzE1M2E7ICAgICAgICAgICAgLy8gYXp1bCBvc2N1cm9cclxuICB0cmFuc2Zvcm06IHNjYWxlKDEuMSk7XHJcbiAgYm94LXNoYWRvdzogMCAwIDhweCByZ2JhKDkwLDIxNSwyNDMsMC42KTtcclxufVxyXG5cclxuXHJcbi5jYW1wby1pbnB1dCB7XHJcbiAgYm9yZGVyOiAxcHggc29saWQgIzVhZDdmMztcclxuICBib3JkZXItcmFkaXVzOiA1MHB4O1xyXG4gIHBhZGRpbmc6IDAuNnJlbSAxcmVtO1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmNWY4ZmY7XHJcbiAgZm9udC1mYW1pbHk6ICdSYWpkaGFuaScsIHNhbnMtc2VyaWY7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxufVxyXG5cclxuLmNhbXBvLWlucHV0OmZvY3VzIHtcclxuICBib3JkZXItY29sb3I6ICM4QTJCRTI7XHJcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgxMzgsNDMsMjI2LDAuNik7XHJcbiAgb3V0bGluZTogbm9uZTtcclxufVxyXG5cclxuLmJ0bi1sb2dpbiB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzhBMkJFMjtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XHJcbiAgcGFkZGluZzogMC43cmVtO1xyXG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbi5idG4tbG9naW46aG92ZXIge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM1YWQ3ZjM7XHJcbiAgY29sb3I6ICMwMzE1M2E7XHJcbiAgYm94LXNoYWRvdzogMCAwIDEycHggcmdiYSg5MCwyMTUsMjQzLDAuNik7XHJcbn1cclxuXHJcbi5saW5rLXNlY3VuZGFyaW8ge1xyXG4gIGZvbnQtZmFtaWx5OiAnUmFqZGhhbmknLCBzYW5zLXNlcmlmO1xyXG4gIGNvbG9yOiAjNWFkN2YzO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB0cmFuc2l0aW9uOiBjb2xvciAwLjNzIGVhc2U7XHJcbn1cclxuXHJcbi5saW5rLXNlY3VuZGFyaW86aG92ZXIge1xyXG4gIGNvbG9yOiAjOEEyQkUyO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["jwtDecode","i0","LoginComponent","constructor","clienteService","router","iniciarSesion","formValue","credentials","correo","contrasena","loginCliente","subscribe","next","res","token","localStorage","setItem","payload","id_cliente","mensajeExito","mensajeError","navigate","error","err","console","volverAlInicio","redirigirRegistro","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\FrontendReyshell\\proyecto-web-soporte\\src\\app\\auth\\login\\login.component.ts","G:\\FrontendReyshell\\proyecto-web-soporte\\src\\app\\auth\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ClienteService } from 'src/app/services/cliente.service';\r\nimport { Router } from '@angular/router';\r\nimport { jwtDecode } from 'jwt-decode';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss']\r\n})\r\nexport class LoginComponent {\r\n  // Campos enlazados con ngModel\r\n  correo: string = '';\r\n  contrasena: string = '';\r\n\r\n  // Mensajes de feedback\r\n  mensajeExito: string = '';\r\n  mensajeError: string = '';\r\n\r\n  constructor(private clienteService: ClienteService, private router: Router) { }\r\n\r\n  // iniciarSesion(formValue: any): void {\r\n  //   const credentials = {\r\n  //     correo: this.correo,\r\n  //     contrasena: this.contrasena // ‚ö†Ô∏è el backend espera \"password\"\r\n  //   };\r\n  //   this.clienteService.loginCliente(credentials).subscribe({\r\n  //     next: (res: any) => {\r\n  //       if (res.token) {\r\n  //         //localStorage.setItem('token', res.token);\r\n  //         //localStorage.setItem('id_cliente', res.id_cliente);\r\n  //         this.mensajeExito = '‚úÖ Login exitoso';\r\n  //         this.mensajeError = '';\r\n  //         // Redirige al perfil o dashboard\r\n  //         this.router.navigate(['/cliente/dashboard']);\r\n  //       }\r\n  //     },\r\n  //     error: (err: any) => {\r\n  //       console.error('Error en login:', err);\r\n  //       this.mensajeError = '‚ùå Credenciales inv√°lidas';\r\n  //       this.mensajeExito = '';\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  iniciarSesion(formValue: any): void {\r\n\r\n    const credentials = {\r\n      correo: this.correo,\r\n      contrasena: this.contrasena\r\n    };\r\n\r\n    this.clienteService.loginCliente(credentials).subscribe({\r\n      next: (res: any) => {\r\n\r\n        if (res.token) {\r\n\r\n          // üîπ 1. Guardar token (recomendado)\r\n          localStorage.setItem('token', res.token);\r\n\r\n          // üîπ 2. Decodificar token\r\n          const payload: any = jwtDecode(res.token);\r\n          //console.log('Payload decodificado:', payload);\r\n\r\n          // Ejemplos de acceso a campos\r\n          localStorage.setItem('id_cliente', payload.id_cliente);\r\n          //console.log('id_cliente', payload.id_cliente);        \r\n          // localStorage.setItem('rol', payload.rol);\r\n          // Mensajes\r\n          this.mensajeExito = '‚úÖ Login exitoso';\r\n          this.mensajeError = '';\r\n\r\n          // üîπ 3. Redirigir\r\n          this.router.navigate(['/cliente/dashboard']);\r\n        }\r\n      },\r\n      error: (err: any) => {\r\n        console.error('Error en login:', err);\r\n        this.mensajeError = '‚ùå Credenciales inv√°lidas';\r\n        this.mensajeExito = '';\r\n      }\r\n    });\r\n  }\r\n\r\n  volverAlInicio(): void {\r\n    this.router.navigate(['/']); // redirige al inicio\r\n  }\r\n\r\n  redirigirRegistro(): void {\r\n    this.router.navigate(['/register']); // redirige al registro\r\n  }\r\n}\r\n","<link\r\n  href=\"https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Rajdhani:wght@500&family=Poppins:wght@500&display=swap\"\r\n  rel=\"stylesheet\">\r\n\r\n<video autoplay muted loop playsinline class=\"video-fondo\">\r\n  <source src=\"assets/video-fondo.mp4\" type=\"video/mp4\">\r\n</video>\r\n\r\n<div class=\"container-fluid min-vh-100 d-flex align-items-center justify-content-center\">\r\n  <div class=\"row login-wrapper rounded-4 overflow-hidden shadow-lg\" style=\"max-width: 950px; width: 100%;\">\r\n\r\n\r\n    <!-- Columna izquierda: imagen institucional -->\r\n    <div class=\"col-md-6 d-none d-md-flex align-items-center justify-content-center bg-gradient rounded-start-4\">\r\n      <img src=\"assets/login-visual.png\" alt=\"Visual institucional\" class=\"img-fluid rounded-4 shadow\">\r\n    </div>\r\n\r\n\r\n\r\n    <!-- Columna derecha: formulario -->\r\n    <div class=\"col-md-6 bg-white p-5 d-flex flex-column justify-content-center\">\r\n      <form #form=\"ngForm\" (ngSubmit)=\"iniciarSesion(form.value)\" novalidate>\r\n\r\n        <div class=\"text-end mb-3\">\r\n          <button type=\"button\" class=\"btn btn-cerrar\" (click)=\"volverAlInicio()\" aria-label=\"Cerrar\">\r\n            X\r\n          </button>\r\n        </div>\r\n\r\n\r\n        <!-- √çcono y t√≠tulo -->\r\n        <div class=\"text-center mb-4\">\r\n          <img src=\"assets/icono-iniciar-sesion.png\" alt=\"Icono de acceso\" width=\"120\" class=\"mb-3 mx-auto d-block\">\r\n          <h2 class=\"fw-bold\" style=\"font-family:'Orbitron', sans-serif; color:#5ad7f3;\">\r\n            Iniciar sesi√≥n\r\n          </h2>\r\n        </div>\r\n\r\n\r\n\r\n\r\n        <!-- Correo -->\r\n        <div class=\"mb-3\">\r\n          <label for=\"correo\" class=\"form-label fw-semibold text-info\" style=\"font-family:'Rajdhani', sans-serif;\">\r\n            <i class=\"bi bi-envelope-fill me-2\"></i> Correo electr√≥nico\r\n          </label>\r\n          <input [(ngModel)]=\"correo\" name=\"correo\" type=\"email\" id=\"correo\" class=\"form-control campo-input\"\r\n            placeholder=\"ejemplo@correo.com\" required email #correoCtrl=\"ngModel\" />\r\n          <div *ngIf=\"correoCtrl.invalid && correoCtrl.touched\" class=\"text-danger small\">\r\n            Ingresa un correo v√°lido.\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Contrase√±a -->\r\n        <div class=\"mb-3\">\r\n          <label for=\"contrasena\" class=\"form-label fw-semibold text-info\" style=\"font-family:'Rajdhani', sans-serif;\">\r\n            <i class=\"bi bi-lock-fill me-2\"></i> Contrase√±a\r\n          </label>\r\n          <input [(ngModel)]=\"contrasena\" name=\"contrasena\" type=\"password\" id=\"contrasena\"\r\n            class=\"form-control campo-input\" placeholder=\"********\" required minlength=\"6\" #passCtrl=\"ngModel\" />\r\n          <div *ngIf=\"passCtrl.invalid && passCtrl.touched\" class=\"text-danger small\">\r\n            La contrase√±a debe tener al menos 6 caracteres.\r\n          </div>\r\n        </div>\r\n\r\n        <!-- Bot√≥n -->\r\n        <button type=\"submit\" class=\"btn w-100 btn-login mt-3\" [disabled]=\"form.invalid\">\r\n          <i class=\"bi bi-box-arrow-in-right me-2\"></i> Iniciar sesi√≥n\r\n        </button>\r\n        <!-- Mensajes -->\r\n        <div *ngIf=\"mensajeExito\" class=\"alert alert-success mt-3\">{{ mensajeExito }}</div>\r\n        <div *ngIf=\"mensajeError\" class=\"alert alert-danger mt-3\">{{ mensajeError }}</div>\r\n\r\n        <!-- Enlaces -->\r\n        <!-- Enlaces -->\r\n        <div class=\"text-center mt-3\">\r\n          <a class=\"link-secundario d-block mb-2\" (click)=\"redirigirRegistro()\">¬øOlvidaste tu contrase√±a?</a>\r\n          <a class=\"link-secundario\" (click)=\"redirigirRegistro()\">¬øNo tienes cuenta? Reg√≠strate</a>\r\n        </div>\r\n\r\n\r\n      </form>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}